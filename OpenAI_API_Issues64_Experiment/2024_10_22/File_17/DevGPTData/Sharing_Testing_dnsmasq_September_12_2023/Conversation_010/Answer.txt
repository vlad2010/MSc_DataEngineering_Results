ChatGPTWhen running networking software like dnsmasq, which needs to bind to well-known ports (ports < 1024) or change network settings, elevated privileges are typically required. The NET_ADMIN capability allows a process to configure network interfaces, among other things.However, running as root isn't the only way to grant this capability to a process. On Linux systems that support capabilities (most modern distributions), you can grant just the NET_ADMIN capability to the dnsmasq executable using setcap.Here's how to do it:First, locate your dnsmasq executable. If you've built it from source, it should be in the directory where you built it (e.g., ./src/dnsmasq).Run the following command to grant the NET_ADMIN capability:[CODE_BLOCK_0]Replace /path/to/dnsmasq with the full path to the dnsmasq executable.Now, you should be able to run dnsmasq without sudo but with the necessary capabilities:[CODE_BLOCK_1]Remember, granting capabilities to an executable can be a security risk, especially if that executable has vulnerabilities that could be exploited to execute arbitrary code. Be cautious when using setcap and only use it on executables that you trust, and only in environments where you understand the security implications.Also note that capabilities are associated with the executable, so if you recompile dnsmasq, you'll need to set the capabilities again for the new executable.Keep in mind that running a DHCP server with non-standard settings like this is generally useful only for debugging or isolated testing. It may not work as expected in a production environment or with standard DHCP clients.