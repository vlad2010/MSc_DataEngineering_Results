Can you reconsider if the last two frame updating lines are necessary and correct ? And rewrite if not ?