Could you explain the new code step by step