所以一开始他一直是在init状态，睡眠一会，然后我在main函数中调用了宏，宏定义又调用了add以后，把日志写到缓冲区了，他才变成ready状态对吗