Certainly! Here's the code with the correct epsilon-based comparisons:

[CODE_BLOCK_0]

This code correctly uses epsilon-based comparisons for dealing with floating-point values.