Certainly, here's the entire program we've developed so far, including the latest modifications:

[CODE_BLOCK_0]

This program includes the ability system with priorities, shared cooldown, and instant damage abilities as discussed earlier.