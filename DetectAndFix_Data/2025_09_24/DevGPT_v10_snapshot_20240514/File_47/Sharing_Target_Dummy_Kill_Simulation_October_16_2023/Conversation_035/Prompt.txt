canDealDamage should use lastDamageTime instead of lastCastTime